# platform detection

If.cml {
	Condition {
		Type String
		String1 "${sys:class/dmi/id/product_family}"
		String2 "Google_Hatch"
	}
	True {
		Define.cml y
		Define.dmicpcm 1
		Define.hdmi hdmi234
	}
}

If.tgl {
	Condition {
		Type String
		String1 "${sys:class/dmi/id/product_family}"
		String2 "Google_Volteer"
	}
	True {
		Define.tgl y
		Define.dmicpcm 99
		Define.hdmi hdmi2345
	}
}

# JSL doesn't have product_family, so use a less than ideal method of checking for each board name
If.jsl {
	Condition {
		Type RegexMatch
		Regex "^(beadrix|beetley|blipper|bookem|boten|botenflex|boxy|bugzzy|common|cret|cret360|dexi|dibbi|drawcia|drawlat|drawman|drawper|galith|galith360|gallop|galnat|galnat360|galtic|galtic360|gesture|kracko|kracko360|landia|landrid|lantis|madoo|magister|maglet|maglia|maglith|magma|magneto|magolor|magpie|metaknight|oscino|pasara|peezer|pirette|pirika|sasuke|sasukette|shotzo|storo|taranza|waddledee|waddledoo)$"
		String "${sys:class/dmi/id/product_name}"
	}
	True {
		Define.jsl y
		Define.dmicpcm 5
		Define.hdmi hdmi234
	}
}

If.adl {
	Condition {
		Type RegexMatch
		Regex "^Google_(Brya|Brask|Nissa)$"
		String "${sys:class/dmi/id/product_family}"
	}
	True {
		Define.adl y
		Define.dmicpcm 99
		Define.hdmi hdmi2345
	}
}
